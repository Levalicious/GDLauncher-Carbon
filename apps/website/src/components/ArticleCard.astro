---
import { composeCDNArticleThumbnailAssetLink } from "../utils/composeCDNAssetLink";

const { post } = Astro.props;
const formatDate = (date: Date) => {
  let newdate = new Date(date);

  // Define options for date formatting
  let options: Intl.DateTimeFormatOptions = {
    day: "2-digit",
    month: "long",
    year: "numeric",
  };

  // Create a formatter
  let formatter = new Intl.DateTimeFormat("en-US", options);
  return formatter.format(newdate);
};
---

<a href={`/blog/${post.slug}`}>
  <article
    class="max-w-lg rounded-xl bg-slate-900 hover:-translate-y-4 ease-in-out duration-200"
  >
    <div
      style={{
        backgroundPosition: "center",
        backgroundSize: "cover",
        backgroundImage: `url(${post.data.heroImage})`,
      }}
      class="min-h-[18rem] bg-green-400 rounded-t-xl"
    >
      <!-- {
        post.image && (
          <img
            class="rounded-t-xl"
            src={`${APP_URLS.cdn}/articles/${post.slug}/${post.image}`}
          />
        )
      } -->
    </div>
    <div class="flex flex-col justify-between py-10 px-14 min-h-72">
      <div>
        <h2 class="text-2xl font-bold mb-4">{post.data.title}</h2>
        <p class="text-slate-400">{post.data.description}</p>
      </div>
      <p class="text-sm pt-3 text-slate-500">
        {post.data.author} - {formatDate(post.data.pubDate)}
      </p>
    </div>
  </article>
</a>
